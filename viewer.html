<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ç´…åŒ…ç¥ç¦ç¶“å¥</title>

<link rel="stylesheet" href="fonts/fonts.css">

<style>
    body{
        margin:0;
        background:#fff7e6;
        font-family:"NotoSansTC", sans-serif;
        text-align:center;
        color:#8a5500;
    }

    .container{
        max-width:900px;
        margin:auto;
        padding:20px;
    }

    .verse-img{
        width:90%;
        max-width:500px;
        margin-top:20px;
        border-radius:12px;
        box-shadow:0 0 10px rgba(0,0,0,0.2);
    }

    .btn{
        background:#ffcc66;
        border:none;
        padding:12px 22px;
        border-radius:10px;
        font-size:20px;
        cursor:pointer;
        margin-top:20px;
    }
    .btn:hover{
        background:#ffdd88;
    }

    .coin{
        position:fixed;
        top:-50px;
        width:35px;
        pointer-events:none;
        animation:fallCoin linear forwards;
    }

    @keyframes fallCoin{
        from{ transform:translateY(-50px); opacity:1;}
        to{ transform:translateY(100vh); opacity:0;}
    }
</style>
</head>

<body>
<div class="container">

    <h1>ç´…åŒ…ç¥ç¦ç¶“å¥</h1>

    <div id="infoArea" style="margin-top:10px;font-size:22px;"></div>
    <img id="verseImg" class="verse-img">

    <div style="margin-top:20px;">
        <button class="btn" onclick="goBack()">è¿”å›</button>
    </div>

</div>

<!-- ç…™ç« -->
<canvas id="fwCanvas" style="position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;"></canvas>

<script>
/* ---------------------- */
/*     æ›¸å·ç« ç¯€è³‡æ–™è¡¨     */
/* ---------------------- */
const verseRefs = {
1:"ä»¥è³½äºæ›¸ 26:3-4",2:"ä»¥è³½äºæ›¸ 27:3",3:"ä»¥è³½äºæ›¸ 30:15",4:"ä»¥è³½äºæ›¸ 30:18",
5:"ä»¥è³½äºæ›¸ 33:2",6:"ä»¥è³½äºæ›¸ 33:6",7:"ä»¥è³½äºæ›¸ 33:15-16",8:"ä»¥è³½äºæ›¸ 38:3",
9:"ä»¥è³½äºæ›¸ 40:31",10:"ä»¥è³½äºæ›¸ 41:9-10",11:"ä»¥è³½äºæ›¸ 49:25",12:"ä»¥è³½äºæ›¸ 54:2",
13:"ä»¥è³½äºæ›¸ 53:5",14:"ä»¥è³½äºæ›¸ 49:15",15:"ä»¥è³½äºæ›¸ 48:17-18",16:"ä»¥è³½äºæ›¸ 43:4",
17:"ä»¥è³½äºæ›¸ 43:2",18:"ä»¥è³½äºæ›¸ 12:2",19:"ä»¥è³½äºæ›¸ 54:10",20:"ä»¥è³½äºæ›¸ 61:10",
21:"è€¶åˆ©ç±³æ›¸ 15:16",22:"è€¶åˆ©ç±³æ›¸ 16:19",23:"è€¶åˆ©ç±³æ›¸ 17:7-8",24:"è€¶åˆ©ç±³æ›¸ 20:11",
25:"è€¶åˆ©ç±³æ›¸ 29:11-13",26:"è©©ç¯‡ 1:1-3",27:"è©©ç¯‡ 3:3ï¼Œ16:11",28:"è©©ç¯‡ 5:11-12",
29:"è©©ç¯‡ 16:8-9",30:"è©©ç¯‡ 17:8",31:"è©©ç¯‡ 18:2",32:"è©©ç¯‡ 18:30-32",
33:"è©©ç¯‡ 27:1",34:"è©©ç¯‡ 27:4",35:"è©©ç¯‡ 27:14",36:"è©©ç¯‡ 28:7",
37:"è©©ç¯‡ 30:4-5",38:"è©©ç¯‡ 31:19",39:"è©©ç¯‡ 34:8-10",40:"è©©ç¯‡ 37:3-5",
41:"è©©ç¯‡ 37:23-24",42:"è©©ç¯‡ 41:12-13",43:"è©©ç¯‡ 50:14-15",44:"è©©ç¯‡ 50:23",
45:"è©©ç¯‡ 52:8-9",46:"è©©ç¯‡ 55:22",47:"è©©ç¯‡ 60:12",48:"è©©ç¯‡ 63:7-8",
49:"è©©ç¯‡ 71:5-6ï¼Œ9",50:"è©©ç¯‡ 73:25-26",51:"è©©ç¯‡ 73:28",52:"è©©ç¯‡ 81:10",
53:"è©©ç¯‡ 84:10-11",54:"è©©ç¯‡ 86:11-13",55:"è©©ç¯‡ 91:1-2",56:"è©©ç¯‡ 91:9-12",
57:"è©©ç¯‡ 91:14-16",58:"è©©ç¯‡ 103:2-5",59:"è©©ç¯‡ 103:17-18",60:"è©©ç¯‡ 108:13",
61:"è©©ç¯‡ 115:11-13",62:"è©©ç¯‡ 118:5-6",63:"è©©ç¯‡ 118:8-9",64:"è©©ç¯‡ 118:14",
65:"è©©ç¯‡ 118:24",66:"è©©ç¯‡ 119:105",67:"è©©ç¯‡ 121:1-2",68:"è©©ç¯‡ 121:5-8",
69:"è©©ç¯‡ 125:1-2",70:"è©©ç¯‡ 127:1-2",71:"è©©ç¯‡ 128:1-2",72:"è©©ç¯‡ 131:1-2",
73:"è©©ç¯‡ 139:13-14",74:"è©©ç¯‡ 139:17-18",75:"è©©ç¯‡ 140:7",76:"è©©ç¯‡ 144:2",
77:"è©©ç¯‡ 145:17-19",78:"ç®´è¨€ 3:5-6",79:"ç®´è¨€ 3:24-26",80:"ç®´è¨€ 4:20-23",
81:"ç®´è¨€ 9:10-11",82:"ç®´è¨€ 10:22",83:"ç®´è¨€ 14:26-27",84:"ç®´è¨€ 16:3",
85:"ç®´è¨€ 17:22",86:"ç®´è¨€ 19:23",87:"ç®´è¨€ 22:4",88:"ç®´è¨€ 31:10-12",
89:"ç”³å‘½è¨˜ 6:4-5",90:"ç”³å‘½è¨˜ 28:6-7",91:"ç”³å‘½è¨˜ 28:12",92:"ç”³å‘½è¨˜ 28:13-14",
93:"ç”³å‘½è¨˜ 30:20",94:"ç”³å‘½è¨˜ 31:8",95:"ç”³å‘½è¨˜ 33:12",96:"ç´„æ›¸äºè¨˜ 1:8",
97:"ç´„æ›¸äºè¨˜ 1:9",98:"ç´„æ›¸äºè¨˜ 24:15",99:"æ’’æ¯è€³è¨˜ä¸‹ 22:2-3",100:"æ’’æ¯è€³è¨˜ä¸‹ 22:31",
101:"æ’’æ¯è€³è¨˜ä¸‹ 23:5",102:"é¦¬å¤ªç¦éŸ³ 7:7",103:"é¦¬å¤ªç¦éŸ³ 6:32-33",104:"é¦¬å¤ªç¦éŸ³ 11:28-29",
105:"é¦¬å¤ªç¦éŸ³ 21:21-22",106:"ç´„ç¿°ç¦éŸ³ 14:21",107:"ç´„ç¿°ç¦éŸ³ 14:27",108:"ç´„ç¿°ç¦éŸ³ 15:5",
109:"ç´„ç¿°ç¦éŸ³ 16:33",110:"ä½¿å¾’è¡Œå‚³ 2:25-28",111:"ç¾…é¦¬æ›¸ 8:26-28",112:"ç¾…é¦¬æ›¸ 8:31-32",
113:"å“¥æ—å¤šå‰æ›¸ 2:9",114:"å“¥æ—å¤šå¾Œæ›¸ 12:9",115:"ä»¥å¼—æ‰€æ›¸ 3:20",116:"è…“ç«‹æ¯”æ›¸ 4:4ï¼Œ6-7",
117:"è…“ç«‹æ¯”æ›¸ 3:13-14",118:"è…“ç«‹æ¯”æ›¸ 4:11-13",119:"è…“ç«‹æ¯”æ›¸ 4:19",120:"æ­Œç¾…è¥¿æ›¸ 3:16-17",
121:"å¸–æ’’ç¾…å°¼è¿¦å‰æ›¸ 5:16-18",122:"ææ‘©å¤ªå‰æ›¸ 6:6-7",123:"ææ‘©å¤ªå¾Œæ›¸ 1:7",
124:"å¸Œä¼¯ä¾†æ›¸ 13:15-16",125:"å½¼å¾—å‰æ›¸ 5:7-8",126:"ç´„ç¿°å£¹æ›¸ 4:4",
127:"ç´„ç¿°å£¹æ›¸ 5:14-15",128:"é¦¬å¯ç¦éŸ³ 12:30-31"
};

/* ---------------------- */
/*   è®€å–ç¶²å€åƒæ•¸ no=XXX   */
/* ---------------------- */
const urlParams = new URLSearchParams(window.location.search);
const no = urlParams.get("no");
let num = parseInt(no,10);

if(!num || num<1 || num>128){
    alert("ç„¡æ•ˆçš„ç¶“å¥ç·¨è™Ÿï¼Œå°‡è¿”å›é¦–é ");
    window.location = "index.html";
}

/* ---------------------- */
/*  é¡¯ç¤ºç¶“å¥åœ–ç‰‡ + æ–‡å­—     */
/* ---------------------- */
let padded = no.padStart(3,"0");
document.getElementById("verseImg").src = `cards/${padded}.png`;

document.getElementById("infoArea").innerHTML =
`
âœ¨ æŠ½ä¸­ç¬¬ <b>${num}</b> è™Ÿç´…åŒ…ç¶“å¥<br>
ğŸ“– ${verseRefs[num]}
`;

/* ---------------------- */
/*    åˆ¤æ–·è¿”å›æŒ‰éˆ•ä¾†æº     */
/* ---------------------- */
function goBack(){
    if(document.referrer.includes("index_category.html"))
        window.location = "index_category.html";
    else
        window.location = "index.html";
}

/* ---------------------- */
/*      ç‰¹æ•ˆï¼ˆäº®ç‰‡+ç…™ç«ï¼‰  */
/* ---------------------- */
let winAudio = new Audio("audio/win.mp3");
winAudio.play().catch(()=>{});

let fwCanvas=document.getElementById("fwCanvas");
let fwCtx=fwCanvas.getContext("2d");

function resizeFW(){
    fwCanvas.width=window.innerWidth;
    fwCanvas.height=window.innerHeight;
}
resizeFW();
window.addEventListener("resize",resizeFW);

let fireArr=[];
function launchFire(){
    fireArr.push({
        x:Math.random()*fwCanvas.width,
        y:Math.random()*fwCanvas.height*0.5,
        r:2,
        c:`hsl(${Math.random()*360},100%,60%)`,
        life:30+Math.random()*20
    });
}
function drawFire(){
    fwCtx.clearRect(0,0,fwCanvas.width,fwCanvas.height);
    for(let i=fireArr.length-1;i>=0;i--){
        let f=fireArr[i];
        fwCtx.beginPath();
        fwCtx.arc(f.x,f.y,f.r,0,Math.PI*2);
        fwCtx.fillStyle=f.c;
        fwCtx.fill();
        f.r+=2;
        f.life--;
        if(f.life<=0) fireArr.splice(i,1);
    }
    requestAnimationFrame(drawFire);
}
drawFire();

for(let i=0;i<12;i++) setTimeout(launchFire,i*150);

for(let i=0;i<15;i++){
    setTimeout(()=>{
        let coin=document.createElement("img");
        coin.src="https://cdn-icons-png.flaticon.com/512/138/138292.png";
        coin.className="coin";
        coin.style.left=Math.random()*window.innerWidth+"px";
        coin.style.animationDuration=(1.2+Math.random())+"s";
        document.body.appendChild(coin);
        setTimeout(()=>coin.remove(),2500);
    },i*120);
}
</script>

</body>
</html>
